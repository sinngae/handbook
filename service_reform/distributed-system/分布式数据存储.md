# 分布式数据存储
传统数据库的分布式化

## MPP
MPP (Massively Parallel Processing)，即大规模并行处理，将任务并行的分散到多个服务器和节点上，在每个节点上计算完成后，将各自部分的结果汇总在一起得到最终的结果(与Hadoop相似)。

Hadoop在处理非结构化和半结构化数据上具备优势，尤其适合海量数据批处理等应用要求。
Hadoop适合海量数据存储查询、批量数据ETL、非机构化数。

MPP适合替代现有关系数据机构下的大数据处理，具有较高的效率。
MPP适合多维度数据自助分析、数据集市等。

简单查询性能相当；HAWQ在处理复杂语句的性能是Hive的三四倍左右。
Hive只支持基准测试99条语句中的66条，而HAWQ支持全部。

## 数据异构
分库分表解决了容量和性能问题，但不同业务索引查询和聚合查询变得很麻烦。
数据库里，可以按照不同业务索引维度拆分成异构的表。也可以把数据放入ES，或者存储到K/V存储集群（NoSQL集群）。

实际实现可以采用订阅数据库变更日志的方式，利用mysql的主从同步机制（client写master => data change => binary log => 网络到slave（同步/异步？） => 写relay log => 写数据库）

**阿里canal模拟mysql slave实现数据镜像/数据异构/数据索引/缓存更新**https://github.com/alibaba/canal