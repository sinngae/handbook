
## 目标 关键 与 结果
### 基于redis/kafka/nsq的订阅发布机制
互联网业务场景，经常有向用户发布消息场景，当前的处理方式是新增表记录用户已读，客户端需要上报消息已读，每新增一种新场景，服务器端都需要重新开发一套接口，新增一套接口（包括查询消息、上报消息已读）、新增一个数据库表。
本案的目标即提供一个通用的消息订阅发布机制，提供一套公用的接口，避免重复开发，减少开发工作量。
key：开发完成，可用、易用、稳定（7分：可用；9分：可用且非常易用；11分：可用且易用，并给项目节省开发资源）

### 基于gin的服务优化
当前游戏相关服务使用gin框架存在下列问题：
1.url路径混乱，难于阅读理解且会造成重复开发（不知道之前是否已经开发过类似功能），一些接口可复用性差；
2.业务代码耦合框架代码，session校验、sign校验侵入业务代码；
3.第三方服务访问代码文件混在数据库访问代码文件中；
本目标的目标即通过梳理及规范url路径命名、开发session校验和sign校验中间件、梳理第三方服务访问代码文件并独立于数据库访问代码文件，来解决上述问题。
key：开发完成，可用、易用、不影响现存代码逻辑（7分：开发完成；9分：可用且非常易用；11分：可用且易用，总结出gin的最佳实践）

### 文档补全
梳理系统内各端和服务器各子服务之间时序关系；辅助服务优化以降低运营成本；
便利新人熟悉系统；降低人员流动对项目风险；
1.补充服务器端架构及部署文档（包括与公司的平台服务、第三方服务、云上服务内部等的关联）
2.总结服务器端主要框架GIN的最佳实践
文档完整，可读，实用（7分：完备、可读性高，对新人上手有很大帮助；9分：文档中描述的最佳实践得到赞同与推广；11分：对系统优化有很大帮助；）


### 自动化测试      $$太过重量了$$
自动化测试节省测试资源，提高产品质量
1.支持测试人员输入测试用例
2.develop分支merge事件，执行自动部署测试环境并使用测试用例自动化测试(master分支打tag后手动部署，其他分支仅作代码保存，不执行自动化)
3.开发人员可使用自动化测试来测试本地的代码
开发完成，可用性、易用性（7分：可用；9分：可用且非常易用；11分：可用且易用，并给项目节省部分测试资源（客户端的情况比较多，还是需要测试投入的），提高产品质量；）

### 全链路跟踪与全链路压力测试     $$太过重量了$$
通过用户访问路径分析用户用户转化丢失点；通过全链路压力测试发现局部功能瓶颈；
1.每个终端的每个客户端唯一SessionID跟踪用户路径
2.每次请求唯一TraceID跟踪服务压力
3.提供报表展现

+ 整个系统(从各客户端到服务器端到公司平台服务)可优化
降低系统成本
+ 支持报表需求，引导利益最大化（大数据分析）
+ 用户反馈，收集用户需求
+ gin最佳实践探索与总结
+ git最佳实践探索与总结 develop自动化测试部署 master-tag部署 其他分支仅作保存，不自动化检查
+ 消息推送机制，低成本触达用户，公共消息存放到队列，服务器端仅保存用户/主题/消息序号